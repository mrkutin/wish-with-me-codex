; CouchDB Local Configuration for Wish With Me
; This file is mounted into the CouchDB container

[couchdb]
single_node = true
max_document_size = 8388608

[chttpd]
port = 5984
bind_address = 0.0.0.0

[chttpd_auth]
timeout = 86400
allow_persistent_cookies = true

[jwt_auth]
required_claims = exp,sub

[cors]
origins = https://wishwith.me, https://api.wishwith.me, http://localhost:9000, http://localhost:9100
credentials = true
methods = GET, PUT, POST, HEAD, DELETE, OPTIONS
headers = accept, authorization, content-type, origin, referer, x-csrf-token

[replicator]
max_jobs = 50
interval = 60000

[compactions]
_default = [{db_fragmentation, "70%"}, {view_fragmentation, "60%"}]

[log]
level = info
writer = stderr
